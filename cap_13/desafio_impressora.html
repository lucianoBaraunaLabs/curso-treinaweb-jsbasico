<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <script type="text/javascript">
     
     var filaDeImpressao = [
        'Sara',
        'Bruno',
        'Antonio',
        'Jose',
        'Matheus',
        'Fernando',
        'Kenneyd' 
     ];
     
     var Impressora = function(nome, tempoImpressao){
         var status = 'aguardando';
         this.trabalhar = function(){
             var trabalho = setInterval(verificarFila,1000);
         }
         
         var verificarFila = function(){
             if(status === 'aguardando'){
                 status = 'trabalhando';
                 var item = filaDeImpressao.shift(); // Quando trabalhamos com push() e shif() o array Ã© uma fila
                 // E quando trabalhamos com pop()
                 if(item){
                     imprimir(item);
                 }else{
                     console.log('Fila vazia');
                     status = 'aguardando';
                      
                 }
             }else{
                 console.log(nome+': Ocupada');
             }
         }
         
         var imprimir = function(item){
             var tempoDeImpressao = setTimeout(function(){
                 console.log(nome+': '+item);
                 status = 'aguardando';
             }, tempoImpressao);
         }
         
     };
     
     var i1 = new Impressora('I1', 2000);
     var i2 = new Impressora('I1', 4000);
    
    i1.trabalhar();
    i2.trabalhar();
    </script>
</body>
</html>
